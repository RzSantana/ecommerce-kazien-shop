import{j as o,F as r,B as i}from"./index.es.Bw1mCpdP.js";import{I as d,f as h,a as m,b as u}from"./index.BtOA04Md.js";import{r as g}from"./index.6otl1p8d.js";async function j(s,l,n){const{callbackUrl:e=window.location.href,redirect:c=!0}={},{prefix:a="/api/auth",...f}={},p=`${`${a}/signin/${s}`}?${new URLSearchParams(n)}`,w=await fetch(`${a}/csrf`),{csrfToken:x}=await w.json(),t=await(await fetch(p,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...f,csrfToken:x,callbackUrl:e})})).clone().json();new URL(t.url).searchParams.get("error");{window.location.href=t.url??e,t.url.includes("#")&&window.location.reload();return}}function U(){const[s,l]=g.useState(!1),n=()=>{l(!s)},e=a=>{a.preventDefault()},c=()=>{console.log("hello world"),j("google")};return o.jsxs("form",{onSubmit:e,className:"flex flex-col gap-8",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx(d,{type:"text",name:"email",placeholder:"Email"}),o.jsx(d,{type:s?"text":"password",name:"password",placeholder:"Password",action:{default:o.jsx(r,{icon:m}),active:o.jsx(r,{icon:h}),callback:n}})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(i,{text:"Log in",type:"primary",onClick:e}),o.jsx(i,{text:"Sing in with Google",type:"secundary",icon:o.jsx(r,{icon:u,size:"lg"}),onClick:c})]})]})}export{U as default};
