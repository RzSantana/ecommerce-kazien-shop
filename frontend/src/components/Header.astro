---
import Button from "./ui/Button";
import { ActionsHeaderClient } from "@components/ActionsHeaderClient";
import { getSession } from "auth-astro/server";

export const prerender = false;

// Obtener la sesión del usuario
const session = await getSession(Astro.request);
---

<header class="box-border
    fixed top-0 left-0 z-50
    w-full max-sm:hidden
    px-8 py-8">
    <div
        class="px-12 py-1.5
        grid grid-cols-[1fr_auto_1fr] [&>*]:items-center
        text-white bg-stone-900/50 backdrop-blur-lg rounded-xl"
    >
        <!-- Logo -->
        <div class="flex flex-row gap-4 py-1 select-none">
            <img
                class="h-full w-8"
                src="/logo-color-primary.svg"
                alt="Logo de la marca Kaizen Shop"
            />
            <span class="uppercase text-3xl font-black">Kaizen</span>
        </div>

        <!-- Navegación -->
        <nav
            class="flex flex-row justify-center gap-12
        [&>*]:font-light [&>*]:text-md"
        >
            <Button text="HOME" type="link" href="/" />
            <Button text="SHOP" type="link" href="/shop" />
            <Button text="DROPS" type="link" href="/drops" />
        </nav>

        <!-- Acciones -->
        <div class="flex flex-row justify-end gap-4">
            <ActionsHeaderClient
                session={session}
                client:load
            />
        </div>
    </div>
</header>
